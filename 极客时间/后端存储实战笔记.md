## 一些知识点

- 如何避免重复下单
  - 我们给订单系统增加一个“生成订单号”的服务，这个服务没有参数，返回值就是一个新的、全局唯一的订单号。
  - 在用户进入创建订单的页面时，前端页面先调用这个生成订单号服务得到一个订单号，在用户提交订单的时候，在创建订单的请求中带着这个订单号。
- ABA问题
  - 更新订单状态天然具有幂等性，但是存在aba问题，aba问题的典型解决思路就是增加一个版本号。
  - 每次查询的时候拿到版本号，更新的时候带上这个版本号，如果一致，更新成功，如果不一致更新失败。